{"version":3,"sources":["store/sbermarket/lenta/actions.tsx","store/reducers.tsx","components/Page/Page.tsx","pages/sbermarket/lenta/components/SberLentaBreadcrumbs/SberLentaBreadcrumbs.tsx","pages/sbermarket/lenta/components/SberLentaForm/SberLentaForm.tsx","pages/sbermarket/lenta/components/SberLentaTable/SberLentaTable.tsx","pages/sbermarket/lenta/components/SberLentaTableCell/SberLentaTableCell.tsx","pages/sbermarket/lenta/components/SberLentaTableRow/SberLentaTableRow.tsx","pages/sbermarket/lenta/component.tsx","pages/sbermarket/lenta/index.tsx","components/App/App.tsx","serviceWorker.js","index.js","store/sbermarket/lenta/constants.js","store/helpers.ts","store/sbermarket/lenta/reducers.tsx","store/sbermarket/lenta/index.tsx"],"names":["CHANGE_CHECKBOX_DEFAULT_EXPORT_FIELDS","CHANGE_EXPORT_FORMAT_VARIANTS","TOGGLE_MAX_CATEGORIES_RADIO_BUTTON","TOGGLE_MAX_PRODUCTS_RADIO_BUTTON","SET_LIMIT_MAX_CATEGORIES_NUMBER","SET_LIMIT_MAX_PRODUCTS_NUMBER","SET_LOADING","TOGGLE_CACHED_DATA_RADIO_BUTTON","SAVE_PRODUCT_ITEMS","SAVE_TABLE_HEADER_FIELDS","actions","changeCheckboxDefaultExportFields","payload","type","changeExportFormatVariants","toggleMaxCategoriesRadioButton","toggleMaxProductsRadioButton","setLimitMaxCategoriesNumber","setLimitMaxProductsNumber","setLoading","toggleCachedDataRadioButton","saveProductItems","saveTableHeaderFields","combineReducers","sberLenta","sberLentaReducer","cnPage","cn","Page","props","className","children","StyledBreadcrumb","withStyles","theme","root","backgroundColor","palette","grey","height","spacing","color","fontWeight","typography","fontWeightRegular","boxShadow","shadows","emphasize","Chip","SberLentaBreadcrumbs","React","memo","Breadcrumbs","cnSberLenta","separator","aria-label","label","icon","fontSize","AccordionSummaryComponent","AccordionSummary","expandIcon","aria-controls","id","RequiredFieldsFormControl","onChange","controls","requiredExportFields","expanded","setExpanded","controlsComponents","SPLITTED_BY","onChangeHandler","controlLabelsTemp","reduce","result","control","index","array","name","key","isChecked","FormControlLabel","Checkbox","checked","push","isLastElement","length","splitElements","event","target","FormControl","Accordion","AccordionDetails","FormGroup","map","i","prevProps","nextProps","l","ExportFormatsFormControl","formats","exportFormatVariants","selectedFormat","find","format","InputLabel","Select","labelId","value","MenuItem","text","MaxProductsFormControlCheckbox","needLimitMaxCategories","limitMaxCategoriesNumber","FormLabel","Switch","TextField","Number","InputLabelProps","shrink","needLimitMaxProducts","MaxProductsFormControlField","limitMaxProductsNumber","charCodeAt","slice","numValue","isNaN","prepareMaxProductsValue","MaxProductsFormControl","GetFromCacheFormControl","needToGetCachedData","tooltipText","Tooltip","title","IconButton","size","sendRequest","url","window","location","hostname","body","cached","options","exportFormat","fields","field","maxProducts","getRequestBody","fetch","method","mode","headers","JSON","stringify","then","response","json","console","log","success","productItems","headerFields","catch","error","StartFormParseButton","isLoading","Button","disabled","onClick","variant","endIcon","SberLentaForm","useState","noValidate","autoComplete","TableHeadComponent","tableHeaderFields","TableHead","TableRow","StyledTableCell","TableBodyComponent","TableBody","products","rowIndex","SberLentaTable","tableRef","useRef","useEffect","ref","current","offsetTop","scrollIntoView","behavior","scrollToTable","smoothscroll","polyfill","maxTableHeight","document","documentElement","clientHeight","TableContainer","component","Paper","style","maxHeight","Table","stickyHeader","head","common","black","white","TableCell","SberLentaTableCellName","Link","underline","href","SberLentaTableCellDescription","SberLentaTableCellDefault","slicedValue","SberLentaTableCellImage","src","SberLentaTableCellBreadCrumbs","joinedValue","join","SberLentaTableCellPrice","default","original","SberLentaTableCellNutrition","SberLentaTableCellProperties","SberLentaTableCellItem","StyledTableRow","action","hover","SberLentaTableRow","link","product","linkUrl","tableCellsData","Cell","parseProductCell","Fragment","TextDescription","Typography","paragraph","mapDispatchToProps","SberLentaPage","connect","state","LinearProgress","store","createStore","rootReducer","applyMiddleware","thunk","App","Boolean","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","message","Object","defineProperty","exports","DEFAULT_EXPORT_FORMATS","DEFAULT_EXPORT_FIELDS","replaceArrayReduxAction","changedIndex","replacedItem","defaultState","isReduxMessagesFlagAvaliable","search","indexOf","item","assign"],"mappings":"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","file":"static/js/main.54aacffd.chunk.js","sourcesContent":["import {\n    ISberLentaMethods,\n} from './typings';\n\nexport const CHANGE_CHECKBOX_DEFAULT_EXPORT_FIELDS = 'CHANGE_CHECKBOX_DEFAULT_EXPORT_FIELDS';\nexport const CHANGE_EXPORT_FORMAT_VARIANTS = 'CHANGE_EXPORT_FORMAT_VARIANTS';\n\nexport const TOGGLE_MAX_CATEGORIES_RADIO_BUTTON = 'TOGGLE_MAX_CATEGORIES_RADIO_BUTTON';\nexport const TOGGLE_MAX_PRODUCTS_RADIO_BUTTON = 'TOGGLE_MAX_PRODUCTS_RADIO_BUTTON';\n\nexport const SET_LIMIT_MAX_CATEGORIES_NUMBER = 'SET_LIMIT_MAX_CATEGORIES_NUMBER';\nexport const SET_LIMIT_MAX_PRODUCTS_NUMBER = 'SET_LIMIT_MAX_PRODUCTS_NUMBER';\n\nexport const SET_LOADING = 'SET_LOADING';\nexport const TOGGLE_CACHED_DATA_RADIO_BUTTON = 'TOGGLE_CACHED_DATA_RADIO_BUTTON';\n\nexport const SAVE_PRODUCT_ITEMS = 'SAVE_PRODUCT_ITEMS';\nexport const SAVE_TABLE_HEADER_FIELDS = 'SAVE_TABLE_HEADER_FIELDS';\n\nconst actions: ISberLentaMethods = {\n    changeCheckboxDefaultExportFields: payload => ({\n        type: CHANGE_CHECKBOX_DEFAULT_EXPORT_FIELDS,\n        payload,\n    }),\n\n    changeExportFormatVariants: payload => ({\n        type: CHANGE_EXPORT_FORMAT_VARIANTS,\n        payload,\n    }),\n\n    toggleMaxCategoriesRadioButton: () => ({\n        type: TOGGLE_MAX_CATEGORIES_RADIO_BUTTON,\n    }),\n\n    toggleMaxProductsRadioButton: () => ({\n        type: TOGGLE_MAX_PRODUCTS_RADIO_BUTTON,\n    }),\n\n    setLimitMaxCategoriesNumber: payload => ({\n        type: SET_LIMIT_MAX_CATEGORIES_NUMBER,\n        payload,\n    }),\n\n    setLimitMaxProductsNumber: payload => ({\n        type: SET_LIMIT_MAX_PRODUCTS_NUMBER,\n        payload,\n    }),\n\n    setLoading: payload => ({\n        type: SET_LOADING,\n        payload,\n    }),\n\n    toggleCachedDataRadioButton: () => ({\n        type: TOGGLE_CACHED_DATA_RADIO_BUTTON,\n    }),\n\n    saveProductItems: payload => ({\n        type: SAVE_PRODUCT_ITEMS,\n        payload,\n    }),\n\n    saveTableHeaderFields: payload => ({\n        type: SAVE_TABLE_HEADER_FIELDS,\n        payload,\n    }),\n}\n\nexport { actions };\n","import { combineReducers } from 'redux';\n\n// import { globalReducer } from './global/reducers';\n// import { searchReducer } from './search/reducers';\nimport { sberLentaReducer } from './sbermarket/lenta';\n\nexport default combineReducers({\n    sberLenta: sberLentaReducer,\n    // global: globalReducer,\n    // search: searchReducer,\n    // alerts: alertsReducer,\n});\n\n","import React from 'react';\nimport { cn } from '@bem-react/classname';\n\nimport './Page.scss';\n\nexport const cnPage = cn('Page');\n\ninterface IPageProps {\n    className?: string;\n    children: any;\n}\n\nconst Page: React.FC<IPageProps> = props => {\n    let className = 'Page';\n\n    if (props.className) {\n        className += ' ' + props.className;\n    }\n\n    return (\n        <div className={className}>{props.children}</div>\n    )\n}\n\nexport { Page };\n","import React from 'react';\n\nimport { emphasize, withStyles } from '@material-ui/core/styles';\n\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Chip from '@material-ui/core/Chip';\nimport HomeIcon from '@material-ui/icons/Home'; \n\nimport { cnSberLenta } from '../../component';\n\nimport './SberLentaBreadcrumbs.scss';\n\nconst StyledBreadcrumb = withStyles((theme) => ({\n    root: {\n        backgroundColor: theme.palette.grey[100],\n        height: theme.spacing(3),\n        color: theme.palette.grey[800],\n        fontWeight: theme.typography.fontWeightRegular,\n        '&:hover, &:focus': {\n            backgroundColor: theme.palette.grey[300],\n        },\n        '&:active': {\n            boxShadow: theme.shadows[1],\n            backgroundColor: emphasize(theme.palette.grey[300], 0.12),\n        },\n    },\n}))(Chip); // TypeScript only: need a type cast here because https://github.com/Microsoft/TypeScript/issues/26591\n\n\nconst SberLentaBreadcrumbs: React.FunctionComponent = React.memo(() => {\n    return (\n        <Breadcrumbs className={cnSberLenta('Breadcrumbs')} separator=\"›\" aria-label=\"breadcrumb\">\n            <StyledBreadcrumb\n                label='Parsers'\n                icon={<HomeIcon fontSize='small' />}\n            />\n            <StyledBreadcrumb label='SberMarket' />\n            <StyledBreadcrumb\n                label='Lenta'\n            />\n        </Breadcrumbs>\n    );\n});\n\nexport { SberLentaBreadcrumbs };\n","import React, { useState } from 'react';\n\nimport {\n    Checkbox,\n    Button,\n    FormControl,\n    FormControlLabel,\n    InputLabel,\n    MenuItem,\n    Select,\n    FormLabel,\n    FormGroup,\n    TextField,\n    Switch,\n    Accordion,\n    AccordionSummary,\n    AccordionDetails,\n\n    ArrowForwardIosIcon,\n    HelpOutlineIcon,\n    IconButton,\n    Tooltip,\n    ExpandMoreIcon,\n} from './components';\n\nimport { cnSberLenta } from '../../component';\n\nimport { IDefaultExportField } from '../../../../../store/sbermarket/lenta/constants';\nimport { ISberLentaState, IProductAvaliableName } from '../../../../../store/sbermarket/lenta/typings';\n\nimport './SberLentaForm.scss';\n\n/**\n * Делим элементы по SPLITTED_BY\n */\nconst splitElements = (\n    controls: IDefaultExportField[],\n    SPLITTED_BY: number,\n    onChangeHandler: (event: React.ChangeEvent<HTMLInputElement>) => void\n) => {\n    let controlLabelsTemp: JSX.Element[] = [];\n\n    return controls.reduce((result: JSX.Element[][], control, index, array) => {\n        const { name, key, isChecked } = control;\n\n        const label = (\n            <FormControlLabel\n                className={cnSberLenta('FormCheckbox')}\n                key={name}\n                control={<Checkbox checked={isChecked} onChange={onChangeHandler} name={key} />}\n                label={name}\n            />\n        );\n\n        controlLabelsTemp.push(label);\n\n        const isLastElement = array.length - 1 === index;\n\n        if (controlLabelsTemp.length === SPLITTED_BY || isLastElement) {\n            result.push(controlLabelsTemp);\n            controlLabelsTemp = [];\n        }\n\n        return result;\n    }, []);\n};\n\nexport interface IRequiredFieldsFormControlProps extends ISberLentaState {\n    expanded: boolean;\n    setExpanded: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nexport const AccordionSummaryComponent: React.FunctionComponent = React.memo(() => {\n    return (\n        <AccordionSummary\n            expandIcon={<ExpandMoreIcon />}\n            aria-label='Expand'\n            aria-controls='additional-actions-content'\n            id='additional-actions-header'\n        >\n            Необходимые поля\n        </AccordionSummary>\n    );\n});\n\n/**\n * Контролы выбора необходимых полей для экспорта\n */\nexport const RequiredFieldsFormControl: React.FunctionComponent<IRequiredFieldsFormControlProps> = React.memo(props => {\n    const {\n        changeCheckboxDefaultExportFields: onChange,\n        requiredExportFields: controls,\n        expanded, setExpanded,\n    } = props;\n\n    if (!controls || !onChange) return null;\n\n    const onChangeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { name } = event.target;\n\n        onChange(name as IProductAvaliableName);\n    };\n\n    /**\n     * Делим компоненты по {SPLITTED_BY} в ряд\n     */\n    const SPLITTED_BY = 5;\n    const controlsComponents = splitElements(controls, SPLITTED_BY, onChangeHandler);\n\n    return (\n        <FormControl className={cnSberLenta('FormAccordion')}>\n            <Accordion expanded={expanded} onChange={() => setExpanded(!expanded)}>\n                <AccordionSummaryComponent />\n                <AccordionDetails>\n                    <FormGroup className={cnSberLenta('FormGroupControlsWrapper')}>\n                        {controlsComponents.map((control, i) => {\n                            return (\n                                <div key={i} className={cnSberLenta('FormGroupControls')}>\n                                    {control}\n                                </div>\n                            )\n                        })}\n                    </FormGroup>\n                </AccordionDetails>\n            </Accordion>\n        </FormControl>\n    );\n}, (prevProps, nextProps) => {\n    /**\n     * Если поменялся чекбокс у параметра - re-render\n     */\n    for (let i = 0, l = nextProps.requiredExportFields.length; i < l; i++) {\n        if (\n            nextProps.requiredExportFields[i].isChecked !==\n            prevProps.requiredExportFields[i].isChecked\n        ) return false;\n    }\n\n    /**\n     * Открыли/закрыли аккордеон - re-render\n     */\n    if (prevProps.expanded !== nextProps.expanded) {\n        return false;\n    }\n\n    return true;\n});\n\n/**\n * Контролы выбора формата экспорта данных\n */\nexport const ExportFormatsFormControl: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const {\n        exportFormatVariants: formats,\n        changeExportFormatVariants: onChange,\n    } = props;\n\n    if (!formats) return null;\n\n    const selectedFormat = formats.find(format => format.isChecked);\n\n    if (!selectedFormat) return null;\n\n    const handleExportFormat = (event: React.ChangeEvent<any>) => {\n        onChange(event.target.value);\n    }\n\n    return (\n        <FormControl className={cnSberLenta('FormControl')}>\n            <InputLabel id='export-format-control-label'>Формат выходных данных</InputLabel>\n            <Select\n                className={cnSberLenta('ExportFormatSelect') + ' ' + cnSberLenta('FormFixedControl')}\n                labelId='export-format-control-label'\n                id='export-format-control-label'\n                value={selectedFormat.type}\n                onChange={handleExportFormat}\n            >\n                {formats.map(format => {\n                    return (\n                        <MenuItem key={format.type} value={format.type}>{format.text}</MenuItem>\n                    );\n                })}\n            </Select>\n        </FormControl>\n    );\n}, (prevProps, nextProps) => {\n    /**\n     * Если поменяли опцию - re-render\n     */\n    for (let i = 0, l = nextProps.exportFormatVariants.length; i < l; i++) {\n        if (\n            nextProps.exportFormatVariants[i].isChecked !==\n            prevProps.exportFormatVariants[i].isChecked\n        ) return false;\n    }\n\n    return true;\n});\n\n/**\n * Контрол ограничения максимального количества категорий\n */\nexport const MaxCategoriesFormControl: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const {\n        needLimitMaxCategories, toggleMaxCategoriesRadioButton,\n        limitMaxCategoriesNumber, setLimitMaxCategoriesNumber,\n    } = props;\n\n    const onChange = (event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        setLimitMaxCategoriesNumber(Number(event.target.value));\n    }\n\n    return (\n        <FormControl className={cnSberLenta('FormControl')}>\n            <FormLabel className={cnSberLenta('FormLabel')}>Ограничить максимальное количество категорий</FormLabel>\n            <FormGroup>\n                <FormControlLabel\n                    control={\n                        <Switch\n                            checked={needLimitMaxCategories}\n                            onChange={() => toggleMaxCategoriesRadioButton()}\n                            name='max-categories-form-control'\n                            color='primary'\n                        />\n                    }\n                    label=''\n                />\n            </FormGroup>\n            {needLimitMaxCategories && <TextField\n                className={cnSberLenta('FormFixedControl')}\n                id='max-results-limit'\n                label='Максимум категорий'\n                type='number'\n                onChange={onChange}\n                value={limitMaxCategoriesNumber}\n                InputLabelProps={{\n                    shrink: true,\n                }}\n            />\n            }\n        </FormControl>\n    );\n}, (prevProps, nextProps) => {\n    if (nextProps.needLimitMaxCategories !== prevProps.needLimitMaxCategories) {\n        return false;\n    }\n\n    if (nextProps.limitMaxCategoriesNumber !== prevProps.limitMaxCategoriesNumber) {\n        return false;\n    }\n\n    return true;\n});\n\nexport const MaxProductsFormControlCheckbox: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const {\n        needLimitMaxProducts, toggleMaxProductsRadioButton,\n    } = props;\n\n    return (\n        <FormGroup>\n            <FormControlLabel\n                control={\n                    <Switch\n                        checked={needLimitMaxProducts}\n                        onChange={() => toggleMaxProductsRadioButton()}\n                        name='max-products-form-control'\n                        color='primary'\n                    />\n                }\n                label=''\n            />\n        </FormGroup>\n    );\n}, (prevProps, nextProps) => {\n    if (prevProps.needLimitMaxProducts !== nextProps.needLimitMaxProducts) {\n        return false;\n    }\n\n    return true;\n});\n\nexport const MaxProductsFormControlField: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const {\n        limitMaxProductsNumber, setLimitMaxProductsNumber,\n        needLimitMaxProducts,\n    } = props;\n\n    if (!needLimitMaxProducts) return null;\n\n    /**\n     * Костыли для того, чтобы разрешить вводить только целые положительные числа\n     */\n    const prepareMaxProductsValue = (value: string) => {\n        if (value && value.length >= 2 && value.charCodeAt(0) === 48) {\n            value = value.slice(1);\n        }\n\n        let numValue = Number(value);\n\n        if (isNaN(numValue) || numValue < 0) {\n            value = limitMaxProductsNumber as string;\n        }\n\n        return value;\n    };\n\n    const onChange = (event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        const value = prepareMaxProductsValue(event.target.value);\n\n        setLimitMaxProductsNumber(value);\n    }\n\n    return (\n        <TextField\n            className={cnSberLenta('FormFixedControl')}\n            id='max-products-limit'\n            label='Максимум продуктов'\n            // type='number'\n            onChange={onChange}\n            value={limitMaxProductsNumber}\n            InputLabelProps={{\n                shrink: true,\n            }}\n        />\n    );\n}, (prevProps, nextProps) => {\n    if (prevProps.limitMaxProductsNumber !== nextProps.limitMaxProductsNumber) {\n        return false;\n    }\n\n    if (prevProps.needLimitMaxProducts !== nextProps.needLimitMaxProducts) {\n        return false;\n    }\n\n    return true;\n});\n\n/**\n * Контрол ограничения максимального количества продуктов\n */\nexport const MaxProductsFormControl: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    return (\n        <FormControl className={cnSberLenta('FormControl')}>\n            <FormLabel className={cnSberLenta('FormLabel')}>Ограничить максимальное количество продуктов</FormLabel>\n            <MaxProductsFormControlCheckbox {...props} />\n            <MaxProductsFormControlField {...props} />\n        </FormControl>\n    );\n});\n\n/**\n * Контрол получения информации из cache\n */\nexport const GetFromCacheFormControl: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const {\n        needToGetCachedData,\n        toggleCachedDataRadioButton,\n    } = props;\n\n    const tooltipText = 'Если информация была обработана ранее - взять её. Это ускоряет получение результатов и уменьшает нагрузку на сервер.'\n\n    return (\n        <FormControl className={cnSberLenta('FormControl')}>\n            <FormLabel className={cnSberLenta('FormLabel')}>Взять информацию из кэша\n                <Tooltip title={tooltipText}>\n                    <IconButton className={cnSberLenta('FormQuestionTooltipIconButton')} size='small' aria-label={tooltipText}>\n                        <HelpOutlineIcon className={cnSberLenta('FormQuestionTooltipIcon')} />\n                    </IconButton>\n                </Tooltip>\n            </FormLabel>\n            <FormGroup>\n                <FormControlLabel\n                    control={\n                        <Switch\n                            checked={needToGetCachedData}\n                            onChange={() => toggleCachedDataRadioButton()}\n                            name='max-products-form-control'\n                            color='primary'\n                        />\n                    }\n                    label=''\n                />\n            </FormGroup>\n        </FormControl>\n    );\n}, (prevProps, nextProps) => {\n    if (prevProps.needToGetCachedData !== nextProps.needToGetCachedData) {\n        return false;\n    }\n\n    return true;\n});\n\n/**\n * Параметры для парсера, отправляемые на сервер\n */\nconst getRequestBody = (props: ISberLentaState) => {\n    const {\n        exportFormatVariants, requiredExportFields,\n        limitMaxProductsNumber, needLimitMaxProducts,\n        needToGetCachedData: cached,\n    } = props;\n\n    const exportFormat = exportFormatVariants.reduce((result, format) =>\n        format.isChecked ? format.type : result\n        , '');\n\n    const fields = requiredExportFields.reduce((result: IDefaultExportField['key'][], field) => {\n        if (field.isChecked) {\n            result.push(field.key);\n        }\n\n        return result;\n    }, []);\n\n    return {\n        type: 'sberlenta',\n        options: {\n            exportFormat,\n            fields,\n            maxProducts: needLimitMaxProducts ? limitMaxProductsNumber : null,\n            cached,\n        }\n    };\n};\n\nconst getRequestUrl = () => {\n    const host = window.location.hostname === 'localhost' ?\n        'http://localhost:3001' : 'https://tools-parser-api-backend.herokuapp.com';\n\n    return host + '/api/parser/sberlenta';\n}\n\n/**\n * Отправляем запрос на сервер для парсинга\n */\nconst sendRequest = (props: ISberLentaState) => {\n    const { setLoading, saveProductItems, saveTableHeaderFields } = props;\n\n    // --------------- TEMP START ---------------\n\n    // const flag = true;\n\n    // if (flag) {\n    //     const localStorageResults = localStorage.getItem('results');\n    //     if (localStorageResults) {\n    //         const results = JSON.parse(localStorageResults);\n\n    //         console.log(results);\n    //         saveProductItems(results.productItems);\n    //         saveTableHeaderFields(results.headerFields);\n    //     }\n\n    //     setLoading(false);\n\n    //     return;\n    // }\n\n    // --------------- TEMP END ---------------\n\n    const url = getRequestUrl();\n    const body = getRequestBody(props);\n\n    saveProductItems(null);\n\n    const request = fetch(url, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n    });\n\n    request\n        .then(response => response.json())\n        .then(response => {\n            setLoading(false);\n\n            console.log(response);\n\n            if (response.success) {\n                saveProductItems(response.productItems);\n                saveTableHeaderFields(response.headerFields);\n                // localStorage.setItem('results', JSON.stringify(response));\n            }\n\n            // if (json.error) {\n            //     // saveAlert({\n            //     //     // type: 'error',\n            //     //     title: json.errorText,\n            //     //     code: json.errorCode\n            //     // });\n            // }\n        })\n        .catch(error => {\n            console.log('error', error);\n            setLoading(false);\n        });\n\n    // if (isFile) {\n    //     request\n    //         .then(response => response.blob())\n    //         .then(blob => {\n    //             var url = window.URL.createObjectURL(blob);\n    //             var a = document.createElement('a');\n    //             a.href = url;\n    //             a.download = 'filename.xlsx';\n    //             document.body.appendChild(a); // we need to append the element to the dom -> otherwise it will not work in firefox\n    //             a.click();\n    //             a.remove();  //afterwards we remove the element again\n    //         });\n    // }\n}\n\n/**\n * Кнопка начала парсинга данных\n */\nexport const StartFormParseButton: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const { isLoading, setLoading } = props;\n\n    const onStartButtonClick = () => {\n        setLoading(true);\n\n        sendRequest(props);\n    };\n\n    return (\n        <Button\n            className={cnSberLenta('FormParseButton')}\n            disabled={isLoading}\n            onClick={onStartButtonClick}\n            variant='contained'\n            color='primary'\n            endIcon={<ArrowForwardIosIcon />}\n        >\n            Старт\n        </Button>\n    );\n});\n\nconst SberLentaForm: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const [expanded, setExpanded] = useState(true);\n\n    return (\n        <form className={cnSberLenta('Form')} noValidate autoComplete='off'>\n            <RequiredFieldsFormControl\n                {...props}\n                expanded={expanded}\n                setExpanded={setExpanded}\n            />\n\n            <ExportFormatsFormControl\n                {...props}\n            />\n\n            {/* <MaxCategoriesFormControl\n                {...props}\n            /> */}\n\n            <MaxProductsFormControl\n                {...props}\n            />\n\n            <GetFromCacheFormControl\n                {...props}\n            />\n\n            <StartFormParseButton\n                {...props}\n            />\n        </form>\n    );\n});\n\nexport { SberLentaForm };\n","import React from 'react';\n\nimport smoothscroll from 'smoothscroll-polyfill';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport { cnSberLenta } from '../../component';\n\nimport {\n    SberLentaTableRow, StyledTableCell,\n} from '../../components';\n\nimport { ISberLentaState } from '../../../../../store/sbermarket/lenta/typings';\n\nimport './SberLentaTable.scss';\n\n/**\n * Шапка таблицы\n */\nexport const TableHeadComponent: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const { tableHeaderFields } = props;\n\n    if (!tableHeaderFields) return null;\n\n    return (\n        <TableHead>\n            <TableRow>\n                <StyledTableCell>#</StyledTableCell>\n                {tableHeaderFields.map(field => {\n                    return (\n                        <StyledTableCell key={field}>{field}</StyledTableCell>\n                    )\n                })}\n            </TableRow>\n        </TableHead>\n    );\n}, (prevProps, nextProps) => {\n    /**\n     * Если изменилось количество ячеек в шапке - re-render\n     */\n    if (prevProps.tableHeaderFields?.length !== nextProps.tableHeaderFields?.length) {\n        return false;\n    }\n\n    if (!nextProps.tableHeaderFields || !prevProps.tableHeaderFields) {\n        return false;\n    }\n\n    /**\n     * Если изменилось значение какой-либо ячейки - re-render\n     */\n    for (let i = 0, l = nextProps.tableHeaderFields?.length; i < l; i++) {\n        if (\n            nextProps.tableHeaderFields[i] !==\n            prevProps.tableHeaderFields[i]\n        ) {\n            return false;\n        }\n    }\n\n    return true;\n});\n\n/**\n * Тело таблицы\n */\nexport const TableBodyComponent: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const { productItems } = props;\n\n    if (!productItems) return null;\n\n    return (\n        <TableBody>\n            {productItems.map((products, rowIndex) => {\n                return (\n                    <SberLentaTableRow key={rowIndex} products={products} rowIndex={rowIndex} />\n                )\n            })}\n        </TableBody>\n    );\n});\n\n/**\n * Считаем максимально возможную высоту таблицы с учетом видимой области экрана\n */\nconst getMaxTableHeight = () => {\n    const clientHeight = document.documentElement.clientHeight;\n\n    /**\n     * Берем дополнительный небольшой отступ\n     */\n    const OFFSET = 30;\n\n    return (clientHeight - OFFSET) + 'px';\n};\n\n/**\n * Таблица с результатами\n */\nconst SberLentaTable: React.FunctionComponent<ISberLentaState> = React.memo(props => {\n    const { productItems } = props;\n\n    const tableRef: React.MutableRefObject<HTMLDivElement | null> = React.useRef(null);\n\n    const scrollToTable = (ref: React.MutableRefObject<HTMLDivElement | null>) => {\n        const current = ref.current;\n\n        if (current && current.offsetTop) {\n            current.scrollIntoView({ behavior: 'smooth' });\n        }\n    }\n\n    React.useEffect(() => {\n        productItems && scrollToTable(tableRef);\n    }, [productItems]);\n\n    if (!productItems || !productItems.length) return null;\n\n    smoothscroll.polyfill();\n\n    const maxTableHeight = getMaxTableHeight();\n\n    return (\n        <TableContainer\n            ref={tableRef}\n            className={cnSberLenta('TableContainer')}\n            component={Paper}\n            style={{ maxHeight: maxTableHeight }}\n        >\n            <Table\n                className={cnSberLenta('Table')}\n                stickyHeader size='small'\n                aria-label='Результаты парсинга'\n            >\n                <TableHeadComponent {...props} />\n                <TableBodyComponent {...props} />\n            </Table>\n        </TableContainer>\n    );\n});\n\nexport { SberLentaTable };\n","import React from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TableCell from '@material-ui/core/TableCell';\nimport Link from '@material-ui/core/Link';\n\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\n\nimport { cnSberLenta } from '../../component';\n\nimport {\n    IProductAvaliableItem,\n\n    IProductName,\n    IProductImage,\n    IProductProperties,\n    IProductDescription,\n    IProductBreadcrumbs,\n    IProductNutrition,\n    IProductPrice,\n} from '../../../../../store/sbermarket/lenta/typings';\n\nimport './SberLentaTableCell.scss';\n\nexport const StyledTableCell = withStyles((theme) => ({\n    head: {\n        backgroundColor: theme.palette.common.black,\n        color: theme.palette.common.white,\n    },\n    body: {\n        fontSize: 14,\n    },\n}))(TableCell);\n\n/**\n * Ячейка с названием\n */\nexport interface IProductNameProps extends IProductName {\n    url: string | null;\n}\nexport const SberLentaTableCellName: React.FunctionComponent<IProductNameProps> = props => {\n    const { value, url } = props;\n\n    if (url) {\n        return (\n            <StyledTableCell>\n                <Link underline='none' className={cnSberLenta('CellLink')} href={url} target='_blank' title='Открыть в новом окне'>{value}</Link>\n            </StyledTableCell>\n        );\n    }\n\n    return (\n        <StyledTableCell>{value}</StyledTableCell>\n    );\n};\n\n/**\n * Ячейка с описанием\n */\nexport const SberLentaTableCellDescription: React.FunctionComponent<IProductDescription> = props => {\n    const { value } = props;\n\n    if (!value) {\n        return (\n            <SberLentaTableCellDefault />\n        );\n    }\n\n    const MAX_SYMBOLS_LIMIT = 50;\n    const slicedValue = value.slice(0, MAX_SYMBOLS_LIMIT);\n\n    return (\n        <StyledTableCell>{slicedValue}&#8230;</StyledTableCell>\n    );\n};\n\n/**\n * Ячейка с изображением\n */\nexport const SberLentaTableCellImage: React.FunctionComponent<IProductImage> = props => {\n    const { value } = props;\n\n    if (!value) {\n        return (\n            <SberLentaTableCellDefault />\n        );\n    }\n\n    return (\n        <StyledTableCell>\n            <LazyLoadImage className={cnSberLenta('CellImage')} src={value} />\n        </StyledTableCell>\n    );\n};\n\n/**\n * Ячейка с категорией\n */\nexport const SberLentaTableCellBreadCrumbs: React.FunctionComponent<IProductBreadcrumbs> = props => {\n    const { value } = props;\n\n    if (!value) {\n        return (\n            <SberLentaTableCellDefault />\n        );\n    }\n\n    const joinedValue = value.join(' / ');\n\n    return (\n        <StyledTableCell>\n            {joinedValue}\n        </StyledTableCell>\n    );\n};\n\n/**\n * Ячейка с разделителем по умолчанию (в случае отсутствия данных)\n */\nexport const SberLentaTableCellDefault: React.FunctionComponent = React.memo(() => {\n    const EMPTY_CELL_DELIMITER = '-';\n\n    return (\n        <StyledTableCell>{EMPTY_CELL_DELIMITER}</StyledTableCell>\n    );\n});\n\n/**\n * Ячейка с ценой\n *\n * Original - цена без скидки\n * Default - цена со скидкой (или обычная)\n */\nexport const SberLentaTableCellPrice: React.FunctionComponent<IProductPrice> = props => {\n    const { value } = props;\n\n    if (!value || !value.default) {\n        return (\n            <SberLentaTableCellDefault />\n        );\n    }\n\n    if (value.default && value.original) {\n        return (\n            <StyledTableCell>\n                <span className={cnSberLenta('CellPriceOriginal')}>{value.original}</span>\n                <span className={cnSberLenta('CellPriceDefault', {\n                    'line-through': true\n                })}>{value.default}</span>\n            </StyledTableCell>\n        );\n    }\n\n    return (\n        <StyledTableCell className={cnSberLenta('CellPriceDefault')}>{value.default}</StyledTableCell>\n    );\n};\n\n/**\n * Ячейка с содержанием белков, жиров, углеводов и пищевой ценностью\n */\nexport const SberLentaTableCellNutrition: React.FunctionComponent<IProductNutrition> = props => {\n    const { value } = props;\n\n    if (!value) {\n        return (\n            <SberLentaTableCellDefault />\n        );\n    }\n\n    const joinedValue = value.reduce((result, current) => {\n        if (current.name && current.value) {\n            result += current.name + ': ' + current.value + '\\n'\n        }\n\n        return result;\n    }, '');\n\n    return (\n        <StyledTableCell className={cnSberLenta('CellWhiteSpace')}>{joinedValue}</StyledTableCell>\n    );\n};\n\n/**\n * Ячейка с дополнительными параметрами\n */\nexport const SberLentaTableCellProperties: React.FunctionComponent<IProductProperties> = props => {\n    const { value } = props;\n\n    if (!value) {\n        return (\n            <SberLentaTableCellDefault />\n        );\n    }\n\n    const joinedValue = value.reduce((result, current) => {\n        if (current.name && current.value) {\n            result += current.name + ': ' + current.value + '\\n'\n        }\n\n        return result;\n    }, '');\n\n    return (\n        <StyledTableCell className={cnSberLenta('CellWhiteSpace')}>{joinedValue}</StyledTableCell>\n    );\n};\n\n/**\n * Ячейка, показывающая данные по умолчанию\n */\nexport const SberLentaTableCellItem: React.FunctionComponent<IProductAvaliableItem> = React.memo(props => {\n    const { value } = props;\n\n    if (!value) {\n        return (\n            <SberLentaTableCellDefault />\n        );\n    }\n\n    return (\n        <StyledTableCell>{value}</StyledTableCell>\n    )\n});\n","import React from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TableRow from '@material-ui/core/TableRow';\n\nimport {\n    IResponseProductItemOrdered,\n    IProductAvaliableItem,\n\n    IProductProperties,\n    IProductName,\n    IProductImage,\n    IProductDescription,\n    IProductBreadcrumbs,\n    IProductNutrition,\n    IProductPrice,\n    IProductLink,\n} from '../../../../../store/sbermarket/lenta/typings';\n\nimport {\n    SberLentaTableCellName,\n    SberLentaTableCellDescription,\n    SberLentaTableCellImage,\n    SberLentaTableCellBreadCrumbs,\n    SberLentaTableCellPrice,\n    SberLentaTableCellNutrition,\n    SberLentaTableCellProperties,\n\n    SberLentaTableCellDefault,\n    SberLentaTableCellItem,\n\n    StyledTableCell,\n} from '../SberLentaTableCell/SberLentaTableCell';\n\nimport './SberLentaTableRow.scss';\n\nexport const StyledTableRow = withStyles((theme) => ({\n    root: {\n        '&:nth-of-type(odd)': {\n            backgroundColor: theme.palette.action.hover,\n        },\n    },\n}))(TableRow);\n\n/**\n * Парсим ячейки продукта по полям в зависимости от типа поля\n */\nexport const parseProductCell = (product: IProductAvaliableItem, url: string | null) => {\n    switch (product.type) {\n        case 'name':\n            return (\n                <SberLentaTableCellName url={url} {...product as IProductName} />\n            );\n\n        case 'description':\n            return (\n                <SberLentaTableCellDescription {...product as IProductDescription} />\n            );\n\n        case 'image':\n            return (\n                <SberLentaTableCellImage {...product as IProductImage} />\n            );\n\n        case 'breadcrumbs':\n            return (\n                <SberLentaTableCellBreadCrumbs {...product as IProductBreadcrumbs} />\n            );\n\n        case 'price':\n            return (\n                <SberLentaTableCellPrice {...product as IProductPrice} />\n            );\n\n        case 'nutrition':\n            return (\n                <SberLentaTableCellNutrition {...product as IProductNutrition} />\n            );\n\n        case 'properties':\n            return (\n                <SberLentaTableCellProperties {...product as IProductProperties} />\n            );\n\n        case 'stock':\n        case 'weight':\n            return (\n                <SberLentaTableCellItem {...product} />\n            );\n\n        /**\n         * Не рисуем ссылку, т.к. она может быть в названии\n         */\n        case 'link':\n            return null;\n\n        /**\n         * ID просто не нужен\n         */\n        case 'id':\n            return null;\n\n        /**\n         * По умолчанию рисуем пустое поле\n         */\n        default:\n            return (\n                <SberLentaTableCellDefault />\n            );\n    }\n};\n\n/**\n * Строка таблицы\n */\nexport interface ITableRowItemProps {\n    products: IResponseProductItemOrdered;\n    rowIndex: number;\n}\nexport const SberLentaTableRow: React.FunctionComponent<ITableRowItemProps> = React.memo(props => {\n    const { products, rowIndex } = props;\n\n    const link = products.find(product => product.type === 'link') as IProductLink;\n    const linkUrl = link ? link.value : null;\n\n    const tableCellsData = products.map(product => {\n        const Cell = parseProductCell(product, linkUrl);\n\n        return (\n            <React.Fragment key={product.type + rowIndex}>\n                {Cell}\n            </React.Fragment>\n        );\n    });\n\n    return (\n        <StyledTableRow>\n            <StyledTableCell>{rowIndex + 1}</StyledTableCell>\n            {tableCellsData}\n        </StyledTableRow>\n    )\n});\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\n\nimport { Page, cnPage } from '../../../components/Page/Page';\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport { cn } from '@bem-react/classname';\n\nimport {\n    SberLentaBreadcrumbs, SberLentaForm, SberLentaTable,\n} from './components';\n\nimport { ISberLentaState } from '../../../store/sbermarket/lenta/typings';\n\nimport './sberlenta.scss';\n\nexport const cnSberLenta = cn('SberLenta');\n\nexport const TextDescription: React.FunctionComponent = React.memo(() => {\n    return (\n        <React.Fragment>\n            <Typography paragraph>\n                Парсер ассортимента \"Лента\" Сбермаркет <Link\n                    className={cnSberLenta('SourceLink')}\n                    target='_blank'\n                    href='https://sbermarket.ru/lenta'\n                    title='Открыть в новой вкладке'\n                >(sbermarket.ru/lenta)</Link> позволяет получать информацию о товарах из всех категорий, представленных на сайте.\n        </Typography>\n            <Typography className={cnPage('TextOption')}>Дополнительные параметры.</Typography>\n        </React.Fragment>\n    );\n});\n\nconst SberLentaPage: React.FC<ISberLentaState> = props => {\n    const { isLoading } = props;\n\n    return (\n        <Page className={cnSberLenta()}>\n            <SberLentaBreadcrumbs />\n\n            <TextDescription />\n\n            <SberLentaForm {...props} />\n\n            {isLoading && <LinearProgress className={cnSberLenta('Progress')} />}\n\n            <SberLentaTable {...props} />\n        </Page >\n    );\n}\n\nexport { SberLentaPage };\n","import { connect } from 'react-redux';\nimport { SberLentaPage as SberLentaPageProvider } from './component';\n\nimport { ISberLentaVars, ISberLentaMethods } from '../../../store/sbermarket/lenta/typings';\n\nimport {\n    actions\n} from '../../../store/sbermarket/lenta/actions';\n\nimport { IAppState } from '../../../store/typings';\n\nconst {\n    changeCheckboxDefaultExportFields,\n    changeExportFormatVariants,\n\n    toggleMaxCategoriesRadioButton,\n    toggleMaxProductsRadioButton,\n\n    setLimitMaxCategoriesNumber,\n    setLimitMaxProductsNumber,\n\n    setLoading,\n    toggleCachedDataRadioButton,\n\n    saveProductItems,\n    saveTableHeaderFields,\n} = actions;\n\nconst mapStateToProps = (state: IAppState): ISberLentaVars => {\n    return {\n        isLoading: state.sberLenta.isLoading,\n        needToGetCachedData: state.sberLenta.needToGetCachedData,\n\n        needLimitMaxCategories: state.sberLenta.needLimitMaxCategories,\n        needLimitMaxProducts: state.sberLenta.needLimitMaxProducts,\n\n        requiredExportFields: state.sberLenta.requiredExportFields,\n        exportFormatVariants: state.sberLenta.exportFormatVariants,\n\n        limitMaxCategoriesNumber: state.sberLenta.limitMaxCategoriesNumber,\n        limitMaxProductsNumber: state.sberLenta.limitMaxProductsNumber,\n\n        productItems: state.sberLenta.productItems,\n        tableHeaderFields: state.sberLenta.tableHeaderFields,\n    };\n}\n\nconst mapDispatchToProps: ISberLentaMethods = {\n    changeCheckboxDefaultExportFields,\n    changeExportFormatVariants,\n\n    toggleMaxCategoriesRadioButton,\n    toggleMaxProductsRadioButton,\n\n    setLimitMaxCategoriesNumber,\n    setLimitMaxProductsNumber,\n\n    setLoading,\n    toggleCachedDataRadioButton,\n\n    saveProductItems,\n    saveTableHeaderFields,\n};\n\nconst SberLentaPage = connect(mapStateToProps, mapDispatchToProps)(SberLentaPageProvider);\n\nexport { SberLentaPage };\n","import React from 'react';\n\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware } from 'redux';\nimport rootReducer from '../../store/reducers';\n\nimport { SberLentaPage } from '../../pages/sbermarket/lenta';\n\nimport './App.scss';\n\nconst store = createStore(\n    rootReducer,\n    applyMiddleware(thunk)\n);\n\nconst App = () => {\n    return (\n        <Provider store={store}>\n            <div className='App'>\n                <SberLentaPage />\n            </div>\n        </Provider>\n    );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_EXPORT_FORMATS = exports.DEFAULT_EXPORT_FIELDS = void 0;\nvar DEFAULT_EXPORT_FIELDS = [\n    {\n        isChecked: true,\n        name: 'Изображение',\n        key: 'image'\n    },\n    {\n        isChecked: true,\n        name: 'Название',\n        key: 'name',\n    },\n    {\n        isChecked: true,\n        name: 'Категория',\n        key: 'breadcrumbs'\n    },\n    {\n        isChecked: true,\n        name: 'Цена',\n        key: 'price'\n    },\n    {\n        isChecked: true,\n        name: 'Масса',\n        key: 'weight'\n    },\n    {\n        isChecked: true,\n        name: 'Количество',\n        key: 'stock'\n    },\n    {\n        isChecked: false,\n        name: 'БЖУ',\n        key: 'nutrition'\n    },\n    {\n        isChecked: true,\n        name: 'Ссылка',\n        key: 'link',\n    },\n    {\n        isChecked: false,\n        name: 'Описание',\n        key: 'description'\n    },\n    {\n        isChecked: false,\n        name: 'Дополнительно',\n        key: 'properties'\n    }\n];\nexports.DEFAULT_EXPORT_FIELDS = DEFAULT_EXPORT_FIELDS;\nvar DEFAULT_EXPORT_FORMATS = [\n    {\n        type: 'table',\n        text: 'В таблице на сайте',\n        isChecked: true,\n    },\n    {\n        type: 'file',\n        text: 'Экспорт в файл',\n        isChecked: false,\n    }\n];\nexports.DEFAULT_EXPORT_FORMATS = DEFAULT_EXPORT_FORMATS;\n","/**\n * Заменяет элемент массива на другой, не модифицируя исходный массив\n */\nexport const replaceArrayReduxAction = (array: object[], changedIndex: number = 0, replacedItem?: object) => {\n    return [\n        ...array.slice(0, changedIndex),\n        replacedItem,\n        ...array.slice(changedIndex + 1)\n    ];\n};\n","import { IGlobalReduxAction } from '../../typings';\n\nimport {\n    CHANGE_CHECKBOX_DEFAULT_EXPORT_FIELDS,\n    CHANGE_EXPORT_FORMAT_VARIANTS,\n\n    TOGGLE_MAX_PRODUCTS_RADIO_BUTTON,\n    TOGGLE_MAX_CATEGORIES_RADIO_BUTTON,\n\n    SET_LIMIT_MAX_CATEGORIES_NUMBER,\n    SET_LIMIT_MAX_PRODUCTS_NUMBER,\n\n    SET_LOADING,\n    TOGGLE_CACHED_DATA_RADIO_BUTTON,\n\n    SAVE_PRODUCT_ITEMS,\n    SAVE_TABLE_HEADER_FIELDS,\n} from './actions';\n\nimport {\n    DEFAULT_EXPORT_FIELDS,\n    DEFAULT_EXPORT_FORMATS,\n} from './constants';\n\nimport {\n    ISberLentaVars,\n} from './typings';\n\nimport {\n    replaceArrayReduxAction,\n} from '../../helpers';\n\nconst defaultState: ISberLentaVars = {\n    isLoading: false,\n    requiredExportFields: DEFAULT_EXPORT_FIELDS,\n    exportFormatVariants: DEFAULT_EXPORT_FORMATS,\n\n    needLimitMaxCategories: false,\n    needLimitMaxProducts: true,\n\n    limitMaxCategoriesNumber: 10,\n    limitMaxProductsNumber: 3,\n\n    needToGetCachedData: true,\n    productItems: null,\n    tableHeaderFields: null,\n};\n\n/**\n * Сообщения от Redux-actions будут присылаться в консоль только при наличии флага 'redux-messages'\n */\nconst isReduxMessagesFlagAvaliable = () => {\n    const search = window && window.location && window.location.search;\n\n    if (!search) {\n        return false;\n    }\n\n    return search.indexOf('redux-messages') !== -1;\n}\n\nexport const sberLentaReducer = (state = defaultState, action: IGlobalReduxAction) => {\n    if (isReduxMessagesFlagAvaliable()) {\n        console.log('sberLentaReducer action', action, 'state', state);\n    }\n\n    switch (action.type) {\n        case CHANGE_CHECKBOX_DEFAULT_EXPORT_FIELDS: {\n            const { changedIndex, replacedItem }: Partial<{ changedIndex: number, replacedItem: object }> = state.requiredExportFields\n                .reduce((result, field, index) => {\n                    if (field.key === action.payload) {\n                        return {\n                            changedIndex: index,\n                            replacedItem: {\n                                ...field,\n                                isChecked: !field.isChecked\n                            }\n                        };\n                    }\n\n                    return result;\n                }, {});\n\n            const requiredExportFields = replaceArrayReduxAction(\n                state.requiredExportFields,\n                changedIndex,\n                replacedItem,\n            );\n\n            return {\n                ...state,\n                requiredExportFields,\n            };\n        }\n\n        case CHANGE_EXPORT_FORMAT_VARIANTS: {\n            const exportFormatVariants = state.exportFormatVariants\n                .map((variant, index) => {\n                    let item: any = Object.assign({}, variant);\n                    item.isChecked = variant.type === action.payload;\n\n                    return item;\n                });\n\n            return {\n                ...state,\n                exportFormatVariants,\n            };\n        }\n\n        case TOGGLE_MAX_PRODUCTS_RADIO_BUTTON: {\n            return {\n                ...state,\n                needLimitMaxProducts: !state.needLimitMaxProducts,\n            };\n        }\n\n        case TOGGLE_MAX_CATEGORIES_RADIO_BUTTON: {\n            return {\n                ...state,\n                needLimitMaxCategories: !state.needLimitMaxCategories,\n            };\n        }\n\n        case SET_LIMIT_MAX_CATEGORIES_NUMBER: {\n            return {\n                ...state,\n                limitMaxCategoriesNumber: action.payload,\n            };\n        }\n\n        case SET_LIMIT_MAX_PRODUCTS_NUMBER: {\n            return {\n                ...state,\n                limitMaxProductsNumber: action.payload,\n            };\n        }\n\n        case SET_LOADING: {\n            return {\n                ...state,\n                isLoading: action.payload\n            };\n        }\n\n        case TOGGLE_CACHED_DATA_RADIO_BUTTON: {\n            return {\n                ...state,\n                needToGetCachedData: !state.needToGetCachedData\n            };\n        }\n\n        case SAVE_PRODUCT_ITEMS: {\n            return {\n                ...state,\n                productItems: action.payload,\n            };\n        }\n\n        case SAVE_TABLE_HEADER_FIELDS: {\n            return {\n                ...state,\n                tableHeaderFields: action.payload,\n            };\n        }\n\n        default:\n            return state;\n    }\n}\n","export * from './actions';\nexport * from './reducers';\nexport * from './constants';\n"],"sourceRoot":""}